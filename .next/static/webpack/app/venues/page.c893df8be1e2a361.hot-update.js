"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/venues/page",{

/***/ "(app-pages-browser)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canManageVenue: function() { return /* binding */ canManageVenue; },\n/* harmony export */   getAvailableVenueOwners: function() { return /* binding */ getAvailableVenueOwners; },\n/* harmony export */   getCurrentUser: function() { return /* binding */ getCurrentUser; },\n/* harmony export */   getPhotoLimit: function() { return /* binding */ getPhotoLimit; },\n/* harmony export */   isSuperAdmin: function() { return /* binding */ isSuperAdmin; },\n/* harmony export */   loginAsVenueOwner: function() { return /* binding */ loginAsVenueOwner; },\n/* harmony export */   logout: function() { return /* binding */ logout; },\n/* harmony export */   upgradeSubscription: function() { return /* binding */ upgradeSubscription; }\n/* harmony export */ });\n// Authentication and venue ownership utilities\n// Mock venue ownership data (in production, this would be in a database)\nconst VENUE_OWNERS = [\n    {\n        id: \"super-admin-1\",\n        email: \"admin@floridaweddingwonders.com\",\n        venueId: \"all\",\n        isVerified: true,\n        subscriptionTier: \"enterprise\",\n        photoLimit: 1000,\n        claimedAt: \"2025-09-01T00:00:00Z\",\n        role: \"super_admin\"\n    },\n    {\n        id: \"owner-1\",\n        email: \"manager@curtissmansion.com\",\n        venueId: \"11\",\n        isVerified: true,\n        subscriptionTier: \"free\",\n        photoLimit: 2,\n        claimedAt: \"2025-09-10T10:00:00Z\",\n        role: \"venue_owner\"\n    },\n    {\n        id: \"owner-2\",\n        email: \"owner@hialeahpark.com\",\n        venueId: \"1\",\n        isVerified: true,\n        subscriptionTier: \"premium\",\n        photoLimit: 50,\n        claimedAt: \"2025-09-08T15:30:00Z\",\n        role: \"venue_owner\"\n    }\n];\nfunction getCurrentUser() {\n    if (false) {}\n    try {\n        // Check for venue owner authentication cookie\n        const cookies = document.cookie.split(\";\");\n        const authCookie = cookies.find((cookie)=>cookie.trim().startsWith(\"venue-owner-auth=\"));\n        if (!authCookie) {\n            return {\n                user: null,\n                isAuthenticated: false\n            };\n        }\n        // Extract user ID from cookie (in production, this would be a JWT)\n        const authValue = authCookie.split(\"=\")[1];\n        if (authValue === \"authenticated\") {\n            // For demo purposes, get user from email stored in another cookie\n            const emailCookie = cookies.find((cookie)=>cookie.trim().startsWith(\"venue-owner-email=\"));\n            if (emailCookie) {\n                const email = decodeURIComponent(emailCookie.split(\"=\")[1]);\n                const user = VENUE_OWNERS.find((owner)=>owner.email === email);\n                if (user) {\n                    return {\n                        user,\n                        isAuthenticated: true\n                    };\n                }\n            }\n        }\n        return {\n            user: null,\n            isAuthenticated: false\n        };\n    } catch (error) {\n        console.error(\"Auth error:\", error);\n        return {\n            user: null,\n            isAuthenticated: false\n        };\n    }\n}\nfunction canManageVenue(venueId) {\n    const { user, isAuthenticated } = getCurrentUser();\n    if (!isAuthenticated || !user) {\n        return false;\n    }\n    // Super admin can manage all venues\n    if (user.role === \"super_admin\" && user.venueId === \"all\") {\n        return true;\n    }\n    // Regular venue owner can only manage their specific venue\n    return user.venueId === venueId && user.isVerified;\n}\nfunction getPhotoLimit(venueId) {\n    const { user, isAuthenticated } = getCurrentUser();\n    if (!isAuthenticated || !user) {\n        return 0; // No access\n    }\n    // Super admin gets unlimited photos\n    if (user.role === \"super_admin\") {\n        return user.photoLimit;\n    }\n    // Regular venue owner can only access their venue\n    if (user.venueId !== venueId) {\n        return 0; // No access to other venues\n    }\n    return user.photoLimit;\n}\nfunction isSuperAdmin() {\n    const { user, isAuthenticated } = getCurrentUser();\n    return isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === \"super_admin\" && (user === null || user === void 0 ? void 0 : user.venueId) === \"all\";\n}\nfunction loginAsVenueOwner(email, venueId) {\n    // Check for super admin first\n    const superAdmin = VENUE_OWNERS.find((o)=>o.email === email && o.role === \"super_admin\");\n    if (superAdmin) {\n        // Set authentication cookies for super admin\n        document.cookie = \"venue-owner-auth=authenticated; path=/; max-age=86400\"; // 24 hours\n        document.cookie = \"venue-owner-email=\".concat(encodeURIComponent(email), \"; path=/; max-age=86400\");\n        return true;\n    }\n    // Check for specific venue owner\n    const owner = VENUE_OWNERS.find((o)=>o.email === email && o.venueId === venueId);\n    if (owner) {\n        // Set authentication cookies\n        document.cookie = \"venue-owner-auth=authenticated; path=/; max-age=86400\"; // 24 hours\n        document.cookie = \"venue-owner-email=\".concat(encodeURIComponent(email), \"; path=/; max-age=86400\");\n        return true;\n    }\n    return false;\n}\nfunction logout() {\n    document.cookie = \"venue-owner-auth=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT\";\n    document.cookie = \"venue-owner-email=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT\";\n}\nfunction upgradeSubscription(venueId, newTier) {\n    const { user } = getCurrentUser();\n    if (!user || user.venueId !== venueId) {\n        return false;\n    }\n    // In production, this would update the database\n    const ownerIndex = VENUE_OWNERS.findIndex((o)=>o.id === user.id);\n    if (ownerIndex !== -1) {\n        VENUE_OWNERS[ownerIndex].subscriptionTier = newTier;\n        VENUE_OWNERS[ownerIndex].photoLimit = newTier === \"premium\" ? 50 : 100;\n        return true;\n    }\n    return false;\n}\n// Get available venue owners for demo purposes\nfunction getAvailableVenueOwners() {\n    return [\n        {\n            email: \"admin@floridaweddingwonders.com\",\n            venueId: \"all\",\n            venueName: \"Super Admin (All Venues)\"\n        },\n        {\n            email: \"manager@curtissmansion.com\",\n            venueId: \"11\",\n            venueName: \"Curtiss Mansion\"\n        },\n        {\n            email: \"owner@hialeahpark.com\",\n            venueId: \"1\",\n            venueName: \"Hialeah Park Racing & Casino\"\n        }\n    ];\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLCtDQUErQztBQWtCL0MseUVBQXlFO0FBQ3pFLE1BQU1BLGVBQWlDO0lBQ3JDO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxTQUFTO1FBQ1RDLFlBQVk7UUFDWkMsa0JBQWtCO1FBQ2xCQyxZQUFZO1FBQ1pDLFdBQVc7UUFDWEMsTUFBTTtJQUNSO0lBQ0E7UUFDRVAsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxrQkFBa0I7UUFDbEJDLFlBQVk7UUFDWkMsV0FBVztRQUNYQyxNQUFNO0lBQ1I7SUFDQTtRQUNFUCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsU0FBUztRQUNUQyxZQUFZO1FBQ1pDLGtCQUFrQjtRQUNsQkMsWUFBWTtRQUNaQyxXQUFXO1FBQ1hDLE1BQU07SUFDUjtDQUNEO0FBRU0sU0FBU0M7SUFDZCxJQUFJLEtBQWtCLEVBQWEsRUFFbEM7SUFFRCxJQUFJO1FBQ0YsOENBQThDO1FBQzlDLE1BQU1HLFVBQVVDLFNBQVNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDO1FBQ3RDLE1BQU1DLGFBQWFKLFFBQVFLLElBQUksQ0FBQ0gsQ0FBQUEsU0FDOUJBLE9BQU9JLElBQUksR0FBR0MsVUFBVSxDQUFDO1FBRzNCLElBQUksQ0FBQ0gsWUFBWTtZQUNmLE9BQU87Z0JBQUVOLE1BQU07Z0JBQU1DLGlCQUFpQjtZQUFNO1FBQzlDO1FBRUEsbUVBQW1FO1FBQ25FLE1BQU1TLFlBQVlKLFdBQVdELEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMxQyxJQUFJSyxjQUFjLGlCQUFpQjtZQUNqQyxrRUFBa0U7WUFDbEUsTUFBTUMsY0FBY1QsUUFBUUssSUFBSSxDQUFDSCxDQUFBQSxTQUMvQkEsT0FBT0ksSUFBSSxHQUFHQyxVQUFVLENBQUM7WUFHM0IsSUFBSUUsYUFBYTtnQkFDZixNQUFNbkIsUUFBUW9CLG1CQUFt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QyxhQUFhcEMsYUFBYXFDLFNBQVMsQ0FBQ04sQ0FBQUEsSUFBS0EsRUFBRTlCLEVBQUUsS0FBS1MsS0FBS1QsRUFBRTtJQUMvRCxJQUFJbUMsZUFBZSxDQUFDLEdBQUc7UUFDckJwQyxZQUFZLENBQUNvQyxXQUFXLENBQUMvQixnQkFBZ0IsR0FBRzhCO1FBQzVDbkMsWUFBWSxDQUFDb0MsV0FBVyxDQUFDOUIsVUFBVSxHQUFHNkIsWUFBWSxZQUFZLEtBQUs7UUFDbkUsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNUO0FBRUEsK0NBQStDO0FBQ3hDLFNBQVNHO0lBQ2QsT0FBTztRQUNMO1lBQUVwQyxPQUFPO1lBQW1DQyxTQUFTO1lBQU9vQyxXQUFXO1FBQTJCO1FBQ2xHO1lBQUVyQyxPQUFPO1lBQThCQyxTQUFTO1lBQU1vQyxXQUFXO1FBQWtCO1FBQ25GO1lBQUVyQyxPQUFPO1lBQXlCQyxTQUFTO1lBQUtvQyxXQUFXO1FBQStCO0tBQzNGO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXV0aGVudGljYXRpb24gYW5kIHZlbnVlIG93bmVyc2hpcCB1dGlsaXRpZXNcblxuZXhwb3J0IGludGVyZmFjZSBWZW51ZU93bmVyQXV0aCB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHZlbnVlSWQ6IHN0cmluZyB8ICdhbGwnOyAvLyAnYWxsJyBmb3Igc3VwZXIgYWRtaW5cbiAgaXNWZXJpZmllZDogYm9vbGVhbjtcbiAgc3Vic2NyaXB0aW9uVGllcjogJ2ZyZWUnIHwgJ3ByZW1pdW0nIHwgJ2VudGVycHJpc2UnO1xuICBwaG90b0xpbWl0OiBudW1iZXI7XG4gIGNsYWltZWRBdDogc3RyaW5nO1xuICByb2xlOiAndmVudWVfb3duZXInIHwgJ3N1cGVyX2FkbWluJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRoU2Vzc2lvbiB7XG4gIHVzZXI6IFZlbnVlT3duZXJBdXRoIHwgbnVsbDtcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xufVxuXG4vLyBNb2NrIHZlbnVlIG93bmVyc2hpcCBkYXRhIChpbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIGJlIGluIGEgZGF0YWJhc2UpXG5jb25zdCBWRU5VRV9PV05FUlM6IFZlbnVlT3duZXJBdXRoW10gPSBbXG4gIHtcbiAgICBpZDogJ3N1cGVyLWFkbWluLTEnLFxuICAgIGVtYWlsOiAnYWRtaW5AZmxvcmlkYXdlZGRpbmd3b25kZXJzLmNvbScsXG4gICAgdmVudWVJZDogJ2FsbCcsIC8vIENhbiBtYW5hZ2UgYWxsIHZlbnVlc1xuICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgc3Vic2NyaXB0aW9uVGllcjogJ2VudGVycHJpc2UnLFxuICAgIHBob3RvTGltaXQ6IDEwMDAsIC8vIFVubGltaXRlZCBlc3NlbnRpYWxseVxuICAgIGNsYWltZWRBdDogJzIwMjUtMDktMDFUMDA6MDA6MDBaJyxcbiAgICByb2xlOiAnc3VwZXJfYWRtaW4nXG4gIH0sXG4gIHtcbiAgICBpZDogJ293bmVyLTEnLFxuICAgIGVtYWlsOiAnbWFuYWdlckBjdXJ0aXNzbWFuc2lvbi5jb20nLFxuICAgIHZlbnVlSWQ6ICcxMScsIC8vIEN1cnRpc3MgTWFuc2lvblxuICAgIGlzVmVyaWZpZWQ6IHRydWUsXG4gICAgc3Vic2NyaXB0aW9uVGllcjogJ2ZyZWUnLFxuICAgIHBob3RvTGltaXQ6IDIsXG4gICAgY2xhaW1lZEF0OiAnMjAyNS0wOS0xMFQxMDowMDowMFonLFxuICAgIHJvbGU6ICd2ZW51ZV9vd25lcidcbiAgfSxcbiAge1xuICAgIGlkOiAnb3duZXItMicsIFxuICAgIGVtYWlsOiAnb3duZXJAaGlhbGVhaHBhcmsuY29tJyxcbiAgICB2ZW51ZUlkOiAnMScsIC8vIEhpYWxlYWggUGFyayBSYWNpbmcgJiBDYXNpbm9cbiAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgIHN1YnNjcmlwdGlvblRpZXI6ICdwcmVtaXVtJyxcbiAgICBwaG90b0xpbWl0OiA1MCxcbiAgICBjbGFpbWVkQXQ6ICcyMDI1LTA5LTA4VDE1OjMwOjAwWicsXG4gICAgcm9sZTogJ3ZlbnVlX293bmVyJ1xuICB9XG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKTogQXV0aFNlc3Npb24ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4geyB1c2VyOiBudWxsLCBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIENoZWNrIGZvciB2ZW51ZSBvd25lciBhdXRoZW50aWNhdGlvbiBjb29raWVcbiAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgY29uc3QgYXV0aENvb2tpZSA9IGNvb2tpZXMuZmluZChjb29raWUgPT4gXG4gICAgICBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ3ZlbnVlLW93bmVyLWF1dGg9JylcbiAgICApO1xuXG4gICAgaWYgKCFhdXRoQ29va2llKSB7XG4gICAgICByZXR1cm4geyB1c2VyOiBudWxsLCBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB1c2VyIElEIGZyb20gY29va2llIChpbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIGJlIGEgSldUKVxuICAgIGNvbnN0IGF1dGhWYWx1ZSA9IGF1dGhDb29raWUuc3BsaXQoJz0nKVsxXTtcbiAgICBpZiAoYXV0aFZhbHVlID09PSAnYXV0aGVudGljYXRlZCcpIHtcbiAgICAgIC8vIEZvciBkZW1vIHB1cnBvc2VzLCBnZXQgdXNlciBmcm9tIGVtYWlsIHN0b3JlZCBpbiBhbm90aGVyIGNvb2tpZVxuICAgICAgY29uc3QgZW1haWxDb29raWUgPSBjb29raWVzLmZpbmQoY29va2llID0+IFxuICAgICAgICBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ3ZlbnVlLW93bmVyLWVtYWlsPScpXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoZW1haWxDb29raWUpIHtcbiAgICAgICAgY29uc3QgZW1haWwgPSBkZWNvZGVVUklDb21wb25lbnQoZW1haWxDb29raWUuc3BsaXQoJz0nKVsxXSk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBWRU5VRV9PV05FUlMuZmluZChvd25lciA9PiBvd25lci5lbWFpbCA9PT0gZW1haWwpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICByZXR1cm4geyB1c2VyLCBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXI6IG51bGwsIGlzQXV0aGVudGljYXRlZDogZmFsc2UgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4geyB1c2VyOiBudWxsLCBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbk1hbmFnZVZlbnVlKHZlbnVlSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IHVzZXIsIGlzQXV0aGVudGljYXRlZCB9ID0gZ2V0Q3VycmVudFVzZXIoKTtcbiAgXG4gIGlmICghaXNBdXRoZW50aWNhdGVkIHx8ICF1c2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gU3VwZXIgYWRtaW4gY2FuIG1hbmFnZSBhbGwgdmVudWVzXG4gIGlmICh1c2VyLnJvbGUgPT09ICdzdXBlcl9hZG1pbicgJiYgdXNlci52ZW51ZUlkID09PSAnYWxsJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gUmVndWxhciB2ZW51ZSBvd25lciBjYW4gb25seSBtYW5hZ2UgdGhlaXIgc3BlY2lmaWMgdmVudWVcbiAgcmV0dXJuIHVzZXIudmVudWVJZCA9PT0gdmVudWVJZCAmJiB1c2VyLmlzVmVyaWZpZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaG90b0xpbWl0KHZlbnVlSWQ6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IHsgdXNlciwgaXNBdXRoZW50aWNhdGVkIH0gPSBnZXRDdXJyZW50VXNlcigpO1xuICBcbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQgfHwgIXVzZXIpIHtcbiAgICByZXR1cm4gMDsgLy8gTm8gYWNjZXNzXG4gIH1cblxuICAvLyBTdXBlciBhZG1pbiBnZXRzIHVubGltaXRlZCBwaG90b3NcbiAgaWYgKHVzZXIucm9sZSA9PT0gJ3N1cGVyX2FkbWluJykge1xuICAgIHJldHVybiB1c2VyLnBob3RvTGltaXQ7XG4gIH1cblxuICAvLyBSZWd1bGFyIHZlbnVlIG93bmVyIGNhbiBvbmx5IGFjY2VzcyB0aGVpciB2ZW51ZVxuICBpZiAodXNlci52ZW51ZUlkICE9PSB2ZW51ZUlkKSB7XG4gICAgcmV0dXJuIDA7IC8vIE5vIGFjY2VzcyB0byBvdGhlciB2ZW51ZXNcbiAgfVxuXG4gIHJldHVybiB1c2VyLnBob3RvTGltaXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1cGVyQWRtaW4oKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgdXNlciwgaXNBdXRoZW50aWNhdGVkIH0gPSBnZXRDdXJyZW50VXNlcigpO1xuICByZXR1cm4gaXNBdXRoZW50aWNhdGVkICYmIHVzZXI/LnJvbGUgPT09ICdzdXBlcl9hZG1pbicgJiYgdXNlcj8udmVudWVJZCA9PT0gJ2FsbCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dpbkFzVmVudWVPd25lcihlbWFpbDogc3RyaW5nLCB2ZW51ZUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgLy8gQ2hlY2sgZm9yIHN1cGVyIGFkbWluIGZpcnN0XG4gIGNvbnN0IHN1cGVyQWRtaW4gPSBWRU5VRV9PV05FUlMuZmluZChvID0+IG8uZW1haWwgPT09IGVtYWlsICYmIG8ucm9sZSA9PT0gJ3N1cGVyX2FkbWluJyk7XG4gIGlmIChzdXBlckFkbWluKSB7XG4gICAgLy8gU2V0IGF1dGhlbnRpY2F0aW9uIGNvb2tpZXMgZm9yIHN1cGVyIGFkbWluXG4gICAgZG9jdW1lbnQuY29va2llID0gJ3ZlbnVlLW93bmVyLWF1dGg9YXV0aGVudGljYXRlZDsgcGF0aD0vOyBtYXgtYWdlPTg2NDAwJzsgLy8gMjQgaG91cnNcbiAgICBkb2N1bWVudC5jb29raWUgPSBgdmVudWUtb3duZXItZW1haWw9JHtlbmNvZGVVUklDb21wb25lbnQoZW1haWwpfTsgcGF0aD0vOyBtYXgtYWdlPTg2NDAwYDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBzcGVjaWZpYyB2ZW51ZSBvd25lclxuICBjb25zdCBvd25lciA9IFZFTlVFX09XTkVSUy5maW5kKG8gPT4gby5lbWFpbCA9PT0gZW1haWwgJiYgby52ZW51ZUlkID09PSB2ZW51ZUlkKTtcbiAgXG4gIGlmIChvd25lcikge1xuICAgIC8vIFNldCBhdXRoZW50aWNhdGlvbiBjb29raWVzXG4gICAgZG9jdW1lbnQuY29va2llID0gJ3ZlbnVlLW93bmVyLWF1dGg9YXV0aGVudGljYXRlZDsgcGF0aD0vOyBtYXgtYWdlPTg2NDAwJzsgLy8gMjQgaG91cnNcbiAgICBkb2N1bWVudC5jb29raWUgPSBgdmVudWUtb3duZXItZW1haWw9JHtlbmNvZGVVUklDb21wb25lbnQoZW1haWwpfTsgcGF0aD0vOyBtYXgtYWdlPTg2NDAwYDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nb3V0KCk6IHZvaWQge1xuICBkb2N1bWVudC5jb29raWUgPSAndmVudWUtb3duZXItYXV0aD07IHBhdGg9LzsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCc7XG4gIGRvY3VtZW50LmNvb2tpZSA9ICd2ZW51ZS1vd25lci1lbWFpbD07IHBhdGg9LzsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGdyYWRlU3Vic2NyaXB0aW9uKHZlbnVlSWQ6IHN0cmluZywgbmV3VGllcjogJ3ByZW1pdW0nIHwgJ2VudGVycHJpc2UnKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgdXNlciB9ID0gZ2V0Q3VycmVudFVzZXIoKTtcbiAgXG4gIGlmICghdXNlciB8fCB1c2VyLnZlbnVlSWQgIT09IHZlbnVlSWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIHVwZGF0ZSB0aGUgZGF0YWJhc2VcbiAgY29uc3Qgb3duZXJJbmRleCA9IFZFTlVFX09XTkVSUy5maW5kSW5kZXgobyA9PiBvLmlkID09PSB1c2VyLmlkKTtcbiAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XG4gICAgVkVOVUVfT1dORVJTW293bmVySW5kZXhdLnN1YnNjcmlwdGlvblRpZXIgPSBuZXdUaWVyO1xuICAgIFZFTlVFX09XTkVSU1tvd25lckluZGV4XS5waG90b0xpbWl0ID0gbmV3VGllciA9PT0gJ3ByZW1pdW0nID8gNTAgOiAxMDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gR2V0IGF2YWlsYWJsZSB2ZW51ZSBvd25lcnMgZm9yIGRlbW8gcHVycG9zZXNcbmV4cG9ydCBmdW5jdGlvbiBnZXRBdmFpbGFibGVWZW51ZU93bmVycygpOiBBcnJheTx7IGVtYWlsOiBzdHJpbmc7IHZlbnVlSWQ6IHN0cmluZzsgdmVudWVOYW1lOiBzdHJpbmcgfT4ge1xuICByZXR1cm4gW1xuICAgIHsgZW1haWw6ICdhZG1pbkBmbG9yaWRhd2VkZGluZ3dvbmRlcnMuY29tJywgdmVudWVJZDogJ2FsbCcsIHZlbnVlTmFtZTogJ1N1cGVyIEFkbWluIChBbGwgVmVudWVzKScgfSxcbiAgICB7IGVtYWlsOiAnbWFuYWdlckBjdXJ0aXNzbWFuc2lvbi5jb20nLCB2ZW51ZUlkOiAnMTEnLCB2ZW51ZU5hbWU6ICdDdXJ0aXNzIE1hbnNpb24nIH0sXG4gICAgeyBlbWFpbDogJ293bmVyQGhpYWxlYWhwYXJrLmNvbScsIHZlbnVlSWQ6ICcxJywgdmVudWVOYW1lOiAnSGlhbGVhaCBQYXJrIFJhY2luZyAmIENhc2lubycgfSxcbiAgXTtcbn1cbiJdLCJuYW1lcyI6WyJWRU5VRV9PV05FUlMiLCJpZCIsImVtYWlsIiwidmVudWVJZCIsImlzVmVyaWZpZWQiLCJzdWJzY3JpcHRpb25UaWVyIiwicGhvdG9MaW1pdCIsImNsYWltZWRBdCIsInJvbGUiLCJnZXRDdXJyZW50VXNlciIsInVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJjb29raWVzIiwiZG9jdW1lbnQiLCJjb29raWUiLCJzcGxpdCIsImF1dGhDb29raWUiLCJmaW5kIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJhdXRoVmFsdWUiLCJlbWFpbENvb2tpZSIsImRlY29kZVVSSUNvbXBvbmVudCIsIm93bmVyIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FuTWFuYWdlVmVudWUiLCJnZXRQaG90b0xpbWl0IiwiaXNTdXBlckFkbWluIiwibG9naW5Bc1ZlbnVlT3duZXIiLCJzdXBlckFkbWluIiwibyIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvZ291dCIsInVwZ3JhZGVTdWJzY3JpcHRpb24iLCJuZXdUaWVyIiwib3duZXJJbmRleCIsImZpbmRJbmRleCIsImdldEF2YWlsYWJsZVZlbnVlT3duZXJzIiwidmVudWVOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/auth.ts\n"));

/***/ })

});